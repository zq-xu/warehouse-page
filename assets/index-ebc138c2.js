import{d as P,aY as D,r as S,c as A,as as O,av as q,aw as s,aB as e,ax as l,aC as _,az as d,ao as B,bk as I,df as U}from"./index-abdd351b.js";import{d as c,a as k}from"./deliverer-f32e87ea.js";import{_ as J,a as R,b as f,s as T}from"./index.vue_vue_type_script_setup_true_lang-2bcc5ee5.js";import{d as V}from"./time-09cbfc6e.js";import{C as j}from"./difference-ee82a1a2.js";import{d as v}from"./deliverer-e1159ef2.js";import{_ as z}from"./index.vue_vue_type_script_setup_true_lang-89206621.js";import{N as F}from"./Space-b1d09008.js";import{_ as L,a as Y}from"./DescriptionsItem-a0602fcf.js";import{_ as E}from"./Tag-d7c56c8d.js";import{_ as G,a as H}from"./Tabs-ffc8ba4b.js";import"./SearchableSelect.vue_vue_type_script_setup_true_lang-7a5fcd6a.js";import"./Select-b44a3ca0.js";import"./use-merged-state-819b618f.js";import"./Suffix-9dcbc97d.js";import"./use-compitable-92c58416.js";import"./cssr-b0f85bf5.js";import"./Popover-4ab62dc2.js";import"./get-adbc5cb4.js";import"./format-length-c9d165c6.js";import"./next-frame-once-7035a838.js";import"./DatePicker-7fdab619.js";import"./Dropdown-7c020671.js";import"./DataTable-f31b3f0d.js";import"./Checkbox-63cc49b7.js";import"./Input-fea9007e.js";import"./InputNumber-7e5cbf6a.js";import"./Add-d1eb1a2a.js";import"./Switch-1eb24d46.js";import"./text-b77baa86.js";import"./Popconfirm-09513e79.js";import"./ListTable.vue_vue_type_script_setup_true_lang-2a5e3e35.js";import"./vuedraggable.umd-106a2257.js";import"./refresh-c3c69e70.js";import"./use-loading-16047a9b.js";const Oa=P({__name:"index",setup(K){const g=D(),o=S({}),b=A(()=>{var n,a;return U((n=o.value)==null?void 0:n.createdAt)?V((a=o.value)==null?void 0:a.createdAt):""}),i=new j;function u(n,a){const r=o.value[n];T(o.value,n,a),i.updateProp({key:n,oldValue:r,newValue:a,propOptions:k})}async function w(){var a,r;const{error:n}=await v.update(o.value.id,i.generateChangedRecord());n?(a=window.$message)==null||a.error(`操作失败! ${n.msg}`):((r=window.$message)==null||r.success("修改成功!"),setTimeout(()=>{B().reloadPage()},500))}async function x(){var r;const n=(r=g.query)==null?void 0:r.id,{data:a}=await v.get(n);o.value=JSON.parse(JSON.stringify(a))}return x(),(n,a)=>{const r=F,m=L,y=E,h=Y,N=G,$=H,C=I;return O(),q(C,{bordered:!1,class:"h-full rounded-16px shadow-sm"},{default:s(()=>[e(r,{class:"pb-12px",justify:"space-between"},{default:s(()=>[e(J,{"last-path":"warehouse_deliverer"}),e(R,{class:"max-w-500px",data:l(i).changedData.value,onPositiveClick:w},null,8,["data"])]),_:1}),e(h,{columns:4,"label-placement":"left",class:"text-center",bordered:""},{default:s(()=>[e(m,{span:2,label:"名称"},{default:s(()=>{var t;return[_(d((t=o.value)==null?void 0:t.name),1)]}),_:1}),e(m,{span:2,label:"状态"},{default:s(()=>{var t;return[e(y,{type:l(c)[((t=o.value)==null?void 0:t.status)||"1"].type},{default:s(()=>{var p;return[_(d(l(c)[((p=o.value)==null?void 0:p.status)||"1"].label),1)]}),_:1},8,["type"])]}),_:1}),e(m,{span:2,label:"联系方式"},{default:s(()=>{var t;return[e(f,{"edit-component":"NInput",data:(t=o.value)==null?void 0:t.phone,"onUpdate:data":a[0]||(a[0]=p=>u("phone",p))},null,8,["data"])]}),_:1}),e(m,{span:2,label:"创建时间"},{default:s(()=>[_(d(b.value),1)]),_:1}),e(m,{span:4,label:"备注信息"},{default:s(()=>{var t;return[e(f,{data:(t=o.value)==null?void 0:t.comment,"onUpdate:data":a[1]||(a[1]=p=>u("comment",p))},null,8,["data"])]}),_:1})]),_:1}),e($,{type:"line",animated:""},{default:s(()=>[e(N,{name:"order",tab:"订单信息"},{default:s(()=>{var t;return[e(z,{"query-map":{delivererId:(t=o.value)==null?void 0:t.id}},null,8,["query-map"])]}),_:1})]),_:1})]),_:1})}}});export{Oa as default};
