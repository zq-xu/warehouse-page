import{_ as M,a as q}from"./export-8a666e89.js";import{_ as L}from"./round-plus-b125ec89.js";import{q as S,d as C,c as V,g as h,bn as A,o as R,b as T,w as o,f as t,aU as d,u,bc as $,as as f,aW as P,aX as j,bf as z,bu as E,bv as F}from"./index-8daa1557.js";import{d as B}from"./deliverer-798d1def.js";import{_ as I}from"./ListTable.vue_vue_type_script_setup_true_lang-44a63c9e.js";import{d as W}from"./deliverer-f32e87ea.js";import{_ as X}from"./Tag-656ba6f9.js";import{c as k,u as G,a as H}from"./rule-f960c453.js";import{_ as J}from"./Input-b5609ef7.js";import{a as K}from"./Grid-7fc51471.js";import{N as D}from"./Space-40c3b44e.js";import"./crud-c9b4981a.js";import"./vuedraggable.umd-02d54b02.js";import"./refresh-9639090c.js";import"./Checkbox-b9b1a3a5.js";import"./use-merged-state-3569f73f.js";import"./Popover-62d545d9.js";import"./Suffix-cff3ef6f.js";import"./get-d43742d2.js";import"./format-length-c9d165c6.js";import"./cssr-b450591b.js";import"./use-compitable-aee246b5.js";import"./next-frame-once-7035a838.js";import"./useLoading-923511a2.js";import"./DataTable-9a0c077d.js";import"./Dropdown-6227f8d6.js";import"./Select-ec81b3d5.js";const O=[{key:"name",title:"名称",align:"center"},{key:"phone",title:"联系方式",align:"center"},{key:"comment",title:"备注信息",align:"center",ellipsis:{tooltip:!0}},{key:"status",title:"状态",align:"center",render:m=>{const a=W[m.status||"1"];return S(X,{style:{marginRight:"6px"},type:a.type,bordered:!1},{default:()=>a.label})}}],Q=C({__name:"AddDelivererModal",props:{visible:{type:Boolean}},emits:["update:visible","succeed"],setup(m,{emit:a}){const b=m,l=V({get(){return b.visible},set(i){a("update:visible",i)}}),c=()=>{l.value=!1},_=h(),n=A({}),v={name:k("请输入供应商名称"),phone:k("请输入联系方式"),comment:G};async function g(){var e,s;await((e=_.value)==null?void 0:e.validate());const{error:i}=await B.create(n);i||((s=window.$message)==null||s.success("新增成功!"),c(),a("succeed"))}return(i,e)=>{const s=J,p=M,y=K,x=H,w=f,N=D,U=P;return R(),T(U,{show:u(l),"onUpdate:show":e[3]||(e[3]=r=>$(l)?l.value=r:null),preset:"card",title:"新增配送人员",class:"w-700px"},{default:o(()=>[t(x,{ref_key:"formRef",ref:_,class:"w-80% m-auto","label-placement":"left","label-width":150,model:n,rules:v},{default:o(()=>[t(y,{cols:12,"x-gap":18},{default:o(()=>[t(p,{span:12,label:"名称",path:"name"},{default:o(()=>[t(s,{value:n.name,"onUpdate:value":e[0]||(e[0]=r=>n.name=r),clearable:""},null,8,["value"])]),_:1}),t(p,{span:12,label:"联系方式",path:"phone"},{default:o(()=>[t(s,{value:n.phone,"onUpdate:value":e[1]||(e[1]=r=>n.phone=r),clearable:""},null,8,["value"])]),_:1}),t(p,{span:36,label:"备注",path:"comment"},{default:o(()=>[t(s,{value:n.comment,"onUpdate:value":e[2]||(e[2]=r=>n.comment=r)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"]),t(N,{class:"w-full pt-16px",size:24,justify:"end"},{default:o(()=>[t(w,{class:"w-72px",type:"primary",onClick:g},{default:o(()=>[d("确定")]),_:1})]),_:1})]),_:1},8,["show"])}}}),Re=C({__name:"index",setup(m){const{bool:a,setTrue:b}=j(),l=h(),c=h([]);async function _(){const{data:e}=await B.list();e&&(c.value=e.items)}const n=()=>{var e;return(e=l.value)==null?void 0:e.loadTableData()},v=[{key:"actions",title:"操作",align:"center",render:e=>t(D,{justify:"center"},{default:()=>[t(f,{size:"small",onClick:()=>i(e.id)},{default:()=>[d("详情")]})]})}],{routerPush:g}=z();function i(e){g({name:E("warehouse_deliverer-detail"),query:{id:e}})}return(e,s)=>{const p=L,y=q,x=F;return R(),T(x,{bordered:!1,class:"rounded-16px shadow-sm"},{default:o(()=>[t(I,{ref_key:"listTable",ref:l,columns:u(O),"action-columns":v,data:c.value,onLoadData:_},{default:o(()=>[t(u(f),{type:"primary",onClick:u(b)},{default:o(()=>[t(p,{class:"mr-4px text-20px"}),d(" 新增 ")]),_:1},8,["onClick"]),t(u(f),{type:"success"},{default:o(()=>[t(y,{class:"mr-4px text-20px"}),d(" 导出Excel ")]),_:1})]),_:1},8,["columns","data"]),t(Q,{visible:u(a),"onUpdate:visible":s[0]||(s[0]=w=>$(a)?a.value=w:null),onSucceed:n},null,8,["visible"])]),_:1})}}});export{Re as default};
