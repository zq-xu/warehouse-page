import{_ as M}from"./round-plus-3e453b7b.js";import{aD as o,h as P,d as v,c as U,r as g,b8 as V,as as x,av as k,aw as s,aB as e,ax as a,aC as C,az as R,ae as w,aJ as z,aK as q,aZ as A,aW as F,bj as L,bk as O,iQ as I}from"./index-d34e0519.js";import{d as S}from"./deliverer-350ffb05.js";import{_ as J}from"./ListTable.vue_vue_type_script_setup_true_lang-6f3668cb.js";import{d as K}from"./deliverer-1bb95948.js";import{_ as Q}from"./Tag-1e615c64.js";import{c as y,u as W,a as Z}from"./rule-ccdfa816.js";import{_ as E}from"./Input-5a80c108.js";import{_ as G}from"./FormItemGridItem-eaf948c9.js";import{a as H}from"./Grid-dcc420d5.js";import{N}from"./Space-b4b83a0d.js";import"./refresh-8a8ec83d.js";import"./use-loading-f04b65e1.js";import"./vuedraggable.umd-510056e9.js";import"./Checkbox-5d323e84.js";import"./use-merged-state-38e48ef5.js";import"./Popover-7a5e5188.js";import"./Suffix-82265be2.js";import"./get-0596a638.js";import"./cssr-bdc68017.js";import"./format-length-c9d165c6.js";import"./use-compitable-c9ad10e0.js";import"./next-frame-once-7035a838.js";import"./DataTable-5dd479e1.js";import"./Dropdown-07d5487b.js";import"./Select-ed1484d1.js";function X(){return[{key:"name",title:o("warehouse.property.name"),align:"center"},{key:"phone",title:o("warehouse.property.phone"),align:"center"},{key:"comment",title:o("warehouse.property.comment"),align:"center",ellipsis:{tooltip:!0}},{key:"status",title:o("warehouse.property.status"),align:"center",render:p=>{const l=K[p.status||"1"];return P(Q,{style:{marginRight:"6px"},type:l.type,bordered:!1},{default:()=>l.label})}}]}const Y=v({__name:"AddDelivererModal",props:{visible:{type:Boolean}},emits:["update:visible","succeed"],setup(p,{emit:l}){const f=p,c=U({get(){return f.visible},set(n){l("update:visible",n)}}),h=()=>{c.value=!1},d=g(),r=V({}),b={name:y(o("warehouse.property.namePlaceholder")),phone:y(o("warehouse.property.phonePlaceholder")),comment:W};async function i(){var t,u;await((t=d.value)==null?void 0:t.validate());const{error:n}=await S.create(r);n||((u=window.$message)==null||u.success(o("warehouse.common.addSuccess")),h(),l("succeed"))}return(n,t)=>{const u=E,_=G,$=H,j=Z,B=w,D=N,T=z;return x(),k(T,{show:c.value,"onUpdate:show":t[3]||(t[3]=m=>c.value=m),preset:"card",title:a(o)("warehouse.common.add")+" "+a(o)("warehouse.deliverer.tittle"),class:"w-700px"},{default:s(()=>[e(j,{ref_key:"formRef",ref:d,class:"w-80% m-auto","label-placement":"left","label-width":150,model:r,rules:b},{default:s(()=>[e($,{cols:12,"x-gap":18},{default:s(()=>[e(_,{span:12,label:a(o)("warehouse.property.name"),path:"name"},{default:s(()=>[e(u,{value:r.name,"onUpdate:value":t[0]||(t[0]=m=>r.name=m),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(_,{span:12,label:a(o)("warehouse.property.phone"),path:"phone"},{default:s(()=>[e(u,{value:r.phone,"onUpdate:value":t[1]||(t[1]=m=>r.phone=m),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(_,{span:36,label:a(o)("warehouse.property.comment"),path:"comment"},{default:s(()=>[e(u,{value:r.comment,"onUpdate:value":t[2]||(t[2]=m=>r.comment=m)},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"]),e(D,{class:"w-full pt-16px",size:24,justify:"end"},{default:s(()=>[e(B,{class:"w-72px",type:"primary",onClick:i},{default:s(()=>[C(R(a(o)("warehouse.common.confirm")),1)]),_:1})]),_:1})]),_:1},8,["show","title"])}}});function ee(p){return typeof p=="function"||Object.prototype.toString.call(p)==="[object Object]"&&!I(p)}const Ne=v({__name:"index",setup(p){const{bool:l,setTrue:f}=q(),c=g(),h=()=>{var i;return(i=c.value)==null?void 0:i.loadTableData()};function d(){return[{key:"actions",title:o("warehouse.property.operation"),align:"center",render:i=>{let n;return e(N,{justify:"center"},{default:()=>[e(w,{size:"small",onClick:()=>b(i.id)},ee(n=o("warehouse.common.showDetail"))?n:{default:()=>[n]})]})}}]}const{routerPush:r}=A();function b(i){r({name:L("warehouse_deliverer-detail"),query:{id:i}})}return(i,n)=>{const t=M,u=O;return x(),k(u,{bordered:!1,class:"rounded-16px shadow-sm"},{default:s(()=>[e(J,{ref_key:"listTable",ref:c,"columns-fn":a(X),"action-columns-fn":d,"load-data":a(S).list},{default:s(()=>[e(a(w),{size:"small",type:"primary",onClick:a(f)},{default:s(()=>[e(t,{class:"mr-4px text-20px"}),C(" "+R(a(o)("warehouse.common.add")),1)]),_:1},8,["onClick"])]),_:1},8,["columns-fn","load-data"]),e(Y,{visible:a(l),"onUpdate:visible":n[0]||(n[0]=_=>F(l)?l.value=_:null),onSucceed:h},null,8,["visible"])]),_:1})}}});export{Ne as default};
