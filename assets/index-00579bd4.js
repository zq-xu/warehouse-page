import{d as P,aY as S,r as A,c as O,as as q,av as B,aw as r,aB as a,ax as p,aD as m,aC as d,az as _,ao as I,bk as U,df as k}from"./index-82878933.js";import{d as f,a as F}from"./deliverer-6e437baf.js";import{_ as J,a as R,b,s as T}from"./index.vue_vue_type_script_setup_true_lang-2900da8b.js";import{d as V}from"./time-2af255bb.js";import{C as j}from"./difference-1a39f4ec.js";import{d as v}from"./deliverer-bb24bc62.js";import{_ as z}from"./index.vue_vue_type_script_setup_true_lang-e5c34214.js";import{N as L}from"./Space-5ce7b0d3.js";import{_ as Y,a as E}from"./DescriptionsItem-ae41fcf7.js";import{_ as G}from"./Tag-44f4bb3b.js";import{_ as H,a as K}from"./Tabs-4c98b140.js";import"./SearchableSelect.vue_vue_type_script_setup_true_lang-120c33c2.js";import"./Select-8c691358.js";import"./use-merged-state-73225c5f.js";import"./Suffix-9de0baa4.js";import"./use-compitable-88d2e5e4.js";import"./cssr-4b5a1daa.js";import"./Popover-77a1abb2.js";import"./get-f3cd441e.js";import"./format-length-c9d165c6.js";import"./next-frame-once-7035a838.js";import"./DatePicker-308829db.js";import"./Dropdown-b655dc06.js";import"./DataTable-380fd57e.js";import"./Checkbox-60e346ec.js";import"./Input-73537fce.js";import"./InputNumber-d988ee38.js";import"./Add-b56c8fee.js";import"./Switch-db302ed3.js";import"./text-1d62828f.js";import"./ListTable.vue_vue_type_script_setup_true_lang-158742c1.js";import"./refresh-26d8b195.js";import"./use-loading-499c0e90.js";import"./vuedraggable.umd-dc8b72a9.js";import"./Popconfirm-ec2f01b7.js";const qe=P({__name:"index",setup(M){const w=S(),o=A({}),g=O(()=>{var n,e;return k((n=o.value)==null?void 0:n.createdAt)?V((e=o.value)==null?void 0:e.createdAt):""}),u=new j;function c(n,e){const s=o.value[n];T(o.value,n,e),u.updateProp({key:n,oldValue:s,newValue:e,propOptions:F})}async function h(){var e,s;const{error:n}=await v.update(o.value.id,u.generateChangedRecord());n?(e=window.$message)==null||e.error(`${m("warehouse.common.operateFailed")} ${n.msg}`):((s=window.$message)==null||s.success(m("warehouse.common.editSuccess")),setTimeout(()=>{I().reloadPage()},500))}async function y(){var s;const n=(s=w.query)==null?void 0:s.id,{data:e}=await v.get(n);o.value=JSON.parse(JSON.stringify(e))}return y(),(n,e)=>{const s=L,i=Y,x=G,$=E,N=H,C=K,D=U;return q(),B(D,{bordered:!1,class:"h-full rounded-16px shadow-sm"},{default:r(()=>[a(s,{class:"pb-12px",justify:"space-between"},{default:r(()=>[a(J,{"last-path":"warehouse_deliverer"}),a(R,{class:"max-w-500px",data:p(u).changedData.value,onPositiveClick:h},null,8,["data"])]),_:1}),a($,{columns:4,"label-placement":"left",class:"text-center",bordered:""},{default:r(()=>[a(i,{span:2,label:p(m)("warehouse.property.name")},{default:r(()=>{var t;return[d(_((t=o.value)==null?void 0:t.name),1)]}),_:1},8,["label"]),a(i,{span:2,label:p(m)("warehouse.property.status")},{default:r(()=>{var t;return[a(x,{type:p(f)[((t=o.value)==null?void 0:t.status)||"1"].type},{default:r(()=>{var l;return[d(_(p(f)[((l=o.value)==null?void 0:l.status)||"1"].label),1)]}),_:1},8,["type"])]}),_:1},8,["label"]),a(i,{span:2,label:p(m)("warehouse.property.phone")},{default:r(()=>{var t;return[a(b,{"edit-component":"NInput",data:(t=o.value)==null?void 0:t.phone,"onUpdate:data":e[0]||(e[0]=l=>c("phone",l))},null,8,["data"])]}),_:1},8,["label"]),a(i,{span:2,label:p(m)("warehouse.property.createdAt")},{default:r(()=>[d(_(g.value),1)]),_:1},8,["label"]),a(i,{span:4,label:p(m)("warehouse.property.comment")},{default:r(()=>{var t;return[a(b,{data:(t=o.value)==null?void 0:t.comment,"onUpdate:data":e[1]||(e[1]=l=>c("comment",l))},null,8,["data"])]}),_:1},8,["label"])]),_:1}),a(C,{type:"line",animated:""},{default:r(()=>[a(N,{name:"order",tab:p(m)("warehouse.order.tittle")},{default:r(()=>{var t;return[a(z,{"query-map":{delivererId:(t=o.value)==null?void 0:t.id}},null,8,["query-map"])]}),_:1},8,["tab"])]),_:1})]),_:1})}}});export{qe as default};
