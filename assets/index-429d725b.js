import{_ as M}from"./round-plus-3e453b7b.js";import{aD as o,h as P,d as v,c as U,r as g,b8 as V,as as x,av as k,aw as s,aB as e,ax as a,aC as C,az as R,ae as w,aJ as z,aK as q,aZ as A,aW as F,bj as L,bk as O,iQ as I}from"./index-d34e0519.js";import{s as S}from"./salesman-531bbc7f.js";import{_ as J}from"./ListTable.vue_vue_type_script_setup_true_lang-6f3668cb.js";import{s as K}from"./salesman-fcb1b93b.js";import{_ as Q}from"./Tag-1e615c64.js";import{c as y,u as W,a as Z}from"./rule-ccdfa816.js";import{_ as E}from"./Input-5a80c108.js";import{_ as G}from"./FormItemGridItem-eaf948c9.js";import{a as H}from"./Grid-dcc420d5.js";import{N}from"./Space-b4b83a0d.js";import"./refresh-8a8ec83d.js";import"./use-loading-f04b65e1.js";import"./vuedraggable.umd-510056e9.js";import"./Checkbox-5d323e84.js";import"./use-merged-state-38e48ef5.js";import"./Popover-7a5e5188.js";import"./Suffix-82265be2.js";import"./get-0596a638.js";import"./cssr-bdc68017.js";import"./format-length-c9d165c6.js";import"./use-compitable-c9ad10e0.js";import"./next-frame-once-7035a838.js";import"./DataTable-5dd479e1.js";import"./Dropdown-07d5487b.js";import"./Select-ed1484d1.js";function X(){return[{key:"name",title:o("warehouse.property.name"),align:"center"},{key:"phone",title:o("warehouse.property.phone"),align:"center"},{key:"comment",title:o("warehouse.property.comment"),align:"center",ellipsis:{tooltip:!0}},{key:"status",title:o("warehouse.property.status"),align:"center",render:u=>{const r=K[u.status||"1"];return P(Q,{style:{marginRight:"6px"},type:r.type,bordered:!1},{default:()=>r.label})}}]}const Y=v({__name:"AddSalesmanModal",props:{visible:{type:Boolean}},emits:["update:visible","succeed"],setup(u,{emit:r}){const f=u,c=U({get(){return f.visible},set(n){r("update:visible",n)}}),h=()=>{c.value=!1},d=g(),l=V({}),b={name:y(o("warehouse.property.namePlaceholder")),phone:y(o("warehouse.property.phonePlaceholder")),comment:W};async function p(){var t,i;await((t=d.value)==null?void 0:t.validate());const{error:n}=await S.create(l);n||((i=window.$message)==null||i.success(o("warehouse.common.addSuccess")),h(),r("succeed"))}return(n,t)=>{const i=E,_=G,$=H,j=Z,B=w,T=N,D=z;return x(),k(D,{show:c.value,"onUpdate:show":t[3]||(t[3]=m=>c.value=m),preset:"card",title:a(o)("warehouse.common.add")+" "+a(o)("warehouse.sales.tittle"),class:"w-700px"},{default:s(()=>[e(j,{ref_key:"formRef",ref:d,class:"w-80% m-auto","label-placement":"left","label-width":150,model:l,rules:b},{default:s(()=>[e($,{cols:12,"x-gap":18},{default:s(()=>[e(_,{span:12,label:a(o)("warehouse.property.name"),path:"name"},{default:s(()=>[e(i,{value:l.name,"onUpdate:value":t[0]||(t[0]=m=>l.name=m),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(_,{span:12,label:a(o)("warehouse.property.phone"),path:"phone"},{default:s(()=>[e(i,{value:l.phone,"onUpdate:value":t[1]||(t[1]=m=>l.phone=m),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(_,{span:36,label:a(o)("warehouse.property.comment"),path:"comment"},{default:s(()=>[e(i,{value:l.comment,"onUpdate:value":t[2]||(t[2]=m=>l.comment=m)},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"]),e(T,{class:"w-full pt-16px",size:24,justify:"end"},{default:s(()=>[e(B,{class:"w-72px",type:"primary",onClick:p},{default:s(()=>[C(R(a(o)("warehouse.common.confirm")),1)]),_:1})]),_:1})]),_:1},8,["show","title"])}}});function ee(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!I(u)}const Ne=v({__name:"index",setup(u){const{bool:r,setTrue:f}=q(),c=g(),h=()=>{var p;return(p=c.value)==null?void 0:p.loadTableData()};function d(){return[{key:"actions",title:o("warehouse.property.operation"),align:"center",render:p=>{let n;return e(N,{justify:"center"},{default:()=>[e(w,{size:"small",onClick:()=>b(p.id)},ee(n=o("warehouse.common.showDetail"))?n:{default:()=>[n]})]})}}]}const{routerPush:l}=A();function b(p){l({name:L("warehouse_salesman-detail"),query:{id:p}})}return(p,n)=>{const t=M,i=O;return x(),k(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:s(()=>[e(J,{ref_key:"listTable",ref:c,"columns-fn":a(X),"action-columns-fn":d,"load-data":a(S).list},{default:s(()=>[e(a(w),{size:"small",type:"primary",onClick:a(f)},{default:s(()=>[e(t,{class:"mr-4px text-20px"}),C(" "+R(a(o)("warehouse.common.add")),1)]),_:1},8,["onClick"])]),_:1},8,["columns-fn","load-data"]),e(Y,{visible:a(r),"onUpdate:visible":n[0]||(n[0]=_=>F(r)?r.value=_:null),onSucceed:h},null,8,["visible"])]),_:1})}}});export{Ne as default};
