import{_ as U}from"./export-d16a5a7e.js";import{_ as S}from"./round-plus-17f4e9b6.js";import{h as V,d as w,c as j,r as h,b8 as q,as as k,av as C,aw as o,aB as e,aC as d,ae as f,aJ as A,aK as D,aZ as P,ax as u,aW as z,bj as E,bk as F}from"./index-226c16fc.js";import{d as R}from"./deliverer-5dbfbe84.js";import{_ as L}from"./ListTable.vue_vue_type_script_setup_true_lang-923ead03.js";import{d as I}from"./deliverer-f32e87ea.js";import{_ as J}from"./Tag-58259951.js";import{c as y,u as K,a as W}from"./rule-0205d26b.js";import{_ as Z}from"./Input-4f09af90.js";import{_ as G}from"./FormItemGridItem-4cb5c7bc.js";import{a as H}from"./Grid-f2d45d29.js";import{N as B}from"./Space-29d90a90.js";import"./vuedraggable.umd-abc431c6.js";import"./refresh-fbdfae5c.js";import"./Checkbox-c63f0c7a.js";import"./use-merged-state-f061fd31.js";import"./Popover-9915398a.js";import"./Suffix-ed6a86a3.js";import"./get-54cbc8e8.js";import"./cssr-6b3a0ba4.js";import"./format-length-c9d165c6.js";import"./use-compitable-621a686c.js";import"./next-frame-once-7035a838.js";import"./use-loading-ec39d282.js";import"./DataTable-f4da4ff8.js";import"./Dropdown-84ed0a2b.js";import"./Select-6d9d23aa.js";const O=[{key:"name",title:"名称",align:"center"},{key:"phone",title:"联系方式",align:"center"},{key:"comment",title:"备注信息",align:"center",ellipsis:{tooltip:!0}},{key:"status",title:"状态",align:"center",render:c=>{const a=I[c.status||"1"];return V(J,{style:{marginRight:"6px"},type:a.type,bordered:!1},{default:()=>a.label})}}],Q=w({__name:"AddDelivererModal",props:{visible:{type:Boolean}},emits:["update:visible","succeed"],setup(c,{emit:a}){const b=c,p=j({get(){return b.visible},set(r){a("update:visible",r)}}),v=()=>{p.value=!1},_=h(),n=q({}),g={name:y("请输入供应商名称"),phone:y("请输入联系方式"),comment:K};async function s(){var t,l;await((t=_.value)==null?void 0:t.validate());const{error:r}=await R.create(n);r||((l=window.$message)==null||l.success("新增成功!"),v(),a("succeed"))}return(r,t)=>{const l=Z,m=G,x=H,$=W,N=f,T=B,M=A;return k(),C(M,{show:p.value,"onUpdate:show":t[3]||(t[3]=i=>p.value=i),preset:"card",title:"新增配送人员",class:"w-700px"},{default:o(()=>[e($,{ref_key:"formRef",ref:_,class:"w-80% m-auto","label-placement":"left","label-width":150,model:n,rules:g},{default:o(()=>[e(x,{cols:12,"x-gap":18},{default:o(()=>[e(m,{span:12,label:"名称",path:"name"},{default:o(()=>[e(l,{value:n.name,"onUpdate:value":t[0]||(t[0]=i=>n.name=i),clearable:""},null,8,["value"])]),_:1}),e(m,{span:12,label:"联系方式",path:"phone"},{default:o(()=>[e(l,{value:n.phone,"onUpdate:value":t[1]||(t[1]=i=>n.phone=i),clearable:""},null,8,["value"])]),_:1}),e(m,{span:36,label:"备注",path:"comment"},{default:o(()=>[e(l,{value:n.comment,"onUpdate:value":t[2]||(t[2]=i=>n.comment=i)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"]),e(T,{class:"w-full pt-16px",size:24,justify:"end"},{default:o(()=>[e(N,{class:"w-72px",type:"primary",onClick:s},{default:o(()=>[d("确定")]),_:1})]),_:1})]),_:1},8,["show"])}}}),Re=w({__name:"index",setup(c){const{bool:a,setTrue:b}=D(),p=h(),v=()=>{var s;return(s=p.value)==null?void 0:s.loadTableData()},_=[{key:"actions",title:"操作",align:"center",render:s=>e(B,{justify:"center"},{default:()=>[e(f,{size:"small",onClick:()=>g(s.id)},{default:()=>[d("详情")]})]})}],{routerPush:n}=P();function g(s){n({name:E("warehouse_deliverer-detail"),query:{id:s}})}return(s,r)=>{const t=S,l=U,m=F;return k(),C(m,{bordered:!1,class:"rounded-16px shadow-sm"},{default:o(()=>[e(L,{ref_key:"listTable",ref:p,columns:u(O),"action-columns":_,"load-data":u(R).list},{default:o(()=>[e(u(f),{type:"primary",onClick:u(b)},{default:o(()=>[e(t,{class:"mr-4px text-20px"}),d(" 新增 ")]),_:1},8,["onClick"]),e(u(f),{type:"success"},{default:o(()=>[e(l,{class:"mr-4px text-20px"}),d(" 导出Excel ")]),_:1})]),_:1},8,["columns","load-data"]),e(Q,{visible:u(a),"onUpdate:visible":r[0]||(r[0]=x=>z(a)?a.value=x:null),onSucceed:v},null,8,["visible"])]),_:1})}}});export{Re as default};
